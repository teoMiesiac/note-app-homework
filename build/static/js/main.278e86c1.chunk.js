(this["webpackJsonpnote-app-homework"]=this["webpackJsonpnote-app-homework"]||[]).push([[0],{205:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),o=n(29),s=n.n(o),i=n(299),u=n(122),l=n(19),d=n(33),j=n.n(d),h=n(60),b=n(47),p=n(15),x=n(156),O=n.n(x),f=function e(){var t=this;Object(b.a)(this,e),this.instance=O.a.create({baseURL:"https://europe-central2-note-app-314122.cloudfunctions.net/note"}),this.postNote=function(){var e=Object(h.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.instance.post("",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getNote=function(){var e=Object(h.a)(j.a.mark((function e(n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.instance.post(n,{password:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},m=n(5),v={NotesStore:new function e(){var t=this;Object(b.a)(this,e),this.notesService=void 0,this.note=null,this.loading=!1,this.urlToShare=null,this.error=null,this.setNote=function(e){t.note=e},this.setLoading=function(e){t.loading=e},this.setError=function(e){t.error=e},this.setUrlToShare=function(e){t.urlToShare=e?window.location.href+"note/"+e:null},this.postNote=function(){var e=Object(h.a)(j.a.mark((function e(n){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setUrlToShare(null),t.setLoading(!0),e.prev=2,e.next=5,t.notesService.postNote(n);case 5:r=e.sent,c=r.data,t.setUrlToShare(c.id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response&&e.t0.response.data&&t.setError(e.t0.response.data.error);case 13:t.setLoading(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),this.getNote=function(){var e=Object(h.a)(j.a.mark((function e(n,r){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setError(null),t.setLoading(!0),e.prev=2,e.next=5,t.notesService.getNote(n,r);case 5:c=e.sent,a=c.data,t.setNote(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response&&e.t0.response.data&&t.setError(e.t0.response.data.error);case 13:t.setLoading(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),this.notesService=new f,Object(p.e)(this,{note:p.f,loading:p.f,urlToShare:p.f,setNote:p.b,setLoading:p.b,setUrlToShare:p.b,setError:p.b,postNote:p.b})}},w=Object(c.createContext)(v),g=function(e){var t=e.children;return Object(m.jsx)(w.Provider,{value:v,children:t})},S=n(289),C=n(7),y=n(157),N=n(106).a.main(r||(r=Object(y.a)(["\n  //height: 100vh;\n  height: ","px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])),(function(e){return e.windowHeight})),T=function(e){var t=e.children,n=Object(c.useState)(0),r=Object(C.a)(n,2),a=r[0],o=r[1];return Object(c.useLayoutEffect)((function(){var e=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.innerHeight,o(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(m.jsx)(N,{windowHeight:a,children:t})},k=n(75),E=n(86),L=n(290),H=n(291),D=n(300),P=n(158),R=n.n(P),M=n(283),q=(n(204),n(205),function(e){var t=e.startDate,n=e.onChange;return Object(m.jsx)(R.a,{showTimeSelect:!0,selected:t,onChange:n,dateFormat:"d MMMM, yyyy h:mm aa",timeFormat:"HH:mm",required:!0,minDate:t,id:"expireDate",calendarClassName:"customCalendar",customInput:Object(m.jsx)(M.a,{required:!0,focusBorderColor:"teal.500",id:"expireDate"})})}),V=n(25),A=n(302),B=n(286),U=n(303),z=function(e){var t=e.value,n=e.inputProps,r=void 0===n?{}:n,a=e.wrapperProps,o=void 0===a?{}:a,s=Object(c.useState)(!1),i=Object(C.a)(s,2),u=i[0],l=i[1];return Object(m.jsxs)(A.a,Object(V.a)(Object(V.a)({},o),{},{children:[Object(m.jsx)(M.a,Object(V.a)({focusBorderColor:"teal.500",placeholder:"Password",value:t,type:u?"text":"password"},r)),Object(m.jsx)(B.a,{children:Object(m.jsx)(D.a,{colorScheme:"teal",size:"sm",variant:"ghost",onClick:function(){return l(!u)},children:Object(m.jsx)(U.a,{})})})]}))},I=n(298),W=n(297),F=n(162),J=n(127),Z=function(e){var t=e.props;return Object(m.jsx)(J.a,Object(V.a)(Object(V.a)({viewBox:"0 0 24 24"},t),{},{children:Object(m.jsx)("path",{fill:"currentColor",d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})}))},G=function(e){var t=e.isOpen,n=e.onClose,r=e.url,c=Object(I.a)();return Object(m.jsxs)(W.a,{isOpen:t,onClose:n,isCentered:!0,children:[Object(m.jsx)(W.f,{}),Object(m.jsxs)(W.c,{color:"teal.500",children:[Object(m.jsx)(W.e,{children:"Share Note"}),Object(m.jsx)(W.b,{children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(M.a,{value:r||"",size:"md",isReadOnly:!0,focusBorderColor:"teal.500",isTruncated:!0,border:"2px"}),Object(m.jsx)(B.a,{children:Object(m.jsx)(F.CopyToClipboard,{text:r||"",onCopy:function(){c({title:"URL copied to clipboard",duration:2e3,status:"success"})},children:Object(m.jsx)(D.a,{colorScheme:"teal",size:"sm",variant:"ghost",children:Object(m.jsx)(Z,{})})})})]})}),Object(m.jsx)(W.d,{})]})]})},K=function(){var e=Object(c.useContext)(w);if(!e)throw new Error("useStore must be used within a StoreProvider.");return e},Q=Object(k.a)((function(){var e=Object(c.useState)(""),t=Object(C.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(new Date(Date.now()+864e5)),o=Object(C.a)(a,2),s=o[0],i=o[1],u=Object(c.useState)(""),l=Object(C.a)(u,2),d=l[0],j=l[1],h=Object(c.useState)(!1),b=Object(C.a)(h,2),p=b[0],x=b[1],O=K().NotesStore,f=O.postNote,v=O.loading,w=O.urlToShare;Object(c.useEffect)((function(){null!==w&&x(!0)}),[w]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(S.a,{as:"form",direction:"column",width:"100%",maxWidth:"450px",padding:5,borderRadius:"10px",boxShadow:"2xl",color:"teal.500",onSubmit:function(e){e.preventDefault(),f({text:n.trim(),expirationTime:s.toJSON(),password:d})},children:[Object(m.jsxs)(E.a,{id:"noteContent",isRequired:!0,children:[Object(m.jsx)(L.a,{children:"Note Content"}),Object(m.jsx)(H.a,{focusBorderColor:"teal.500",value:n,onChange:function(e){r(e.currentTarget.value)},placeholder:"What's on your mind?",required:!0})]}),Object(m.jsxs)(E.a,{id:"expireDate",children:[Object(m.jsx)(L.a,{children:"Expire date:"}),Object(m.jsx)(q,{startDate:s,onChange:function(e){return i(e)}})]}),Object(m.jsxs)(E.a,{id:"password",isRequired:!0,mt:3,children:[Object(m.jsx)(L.a,{children:"Protect your note"}),Object(m.jsx)(z,{value:d,inputProps:{onChange:function(e){j(e.currentTarget.value)},isRequired:!0,placeholder:"Password",minLength:5},wrapperProps:{marginTop:2}})]}),Object(m.jsx)(D.a,{type:"submit",colorScheme:"teal",disabled:""===n||""===d||null===s,mt:3,isLoading:v,children:"Share"})]}),Object(m.jsx)(G,{isOpen:p,url:w,onClose:function(){r(""),j(""),i(new Date(Date.now()+864e5)),x(!1)}})]})})),X=function(){return Object(m.jsx)(T,{children:Object(m.jsx)(S.a,{as:"section",direction:"column",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",padding:{sm:5,md:10},maxWidth:"1440px",children:Object(m.jsx)(Q,{})})})},Y=Object(k.a)((function(){var e=Object(c.useState)(!0),t=Object(C.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(C.a)(a,2),s=o[0],i=o[1],u=Object(l.f)().id,d=K().NotesStore,j=d.getNote,h=d.loading,b=d.error,p=d.note,x=Object(I.a)();Object(c.useEffect)((function(){b&&x({title:b,duration:2e3,status:"error"})}),[b,x]),Object(c.useEffect)((function(){p&&r(!1)}),[p]);return Object(m.jsxs)(W.a,{isOpen:n,onClose:function(){return null},isCentered:!0,children:[Object(m.jsx)(W.f,{}),Object(m.jsxs)(W.c,{color:"teal.500",children:[Object(m.jsx)(W.e,{children:"Someone shared note with you!"}),Object(m.jsx)(W.b,{children:Object(m.jsx)(z,{value:s,inputProps:{onChange:function(e){i(e.currentTarget.value)},isRequired:!0,placeholder:"Password"}})}),Object(m.jsx)(W.d,{justifyContent:"flex-start",children:Object(m.jsx)(D.a,{colorScheme:"teal",width:"150px",onClick:function(){return j(u,s)},isLoading:h,disabled:0===s.length,children:"View"})})]})]})})),$=n(292),_=n(293),ee=n(294),te=function(e){var t=e.note;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(S.a,{direction:"column",width:"100%",maxWidth:"450px",padding:5,borderRadius:"10px",boxShadow:"2xl",color:"teal.500",children:Object(m.jsxs)(S.a,{direction:"column",width:"100%",wrap:"nowrap",alignItems:"flex-start",children:[Object(m.jsx)($.a,{as:"h3",color:"teal.500",textAlign:"left",children:"Note:"}),Object(m.jsx)(_.a,{color:"teal.500",width:"100%",display:"inline-block",padding:2,children:t.text}),Object(m.jsx)(ee.a,{})]})})})},ne=Object(k.a)((function(){var e=K().NotesStore.note;return Object(m.jsxs)(T,{children:[Object(m.jsx)(S.a,{as:"section",direction:"column",height:"100%",width:"100%",alignItems:"center",justifyContent:"center",padding:{sm:5,md:10},maxWidth:"1440px",children:e&&Object(m.jsx)(te,{note:e})}),Object(m.jsx)(Y,{})]})})),re=n(295),ce=n(288),ae=Object(ce.a)({sm:"320px",md:"768px",lg:"1280px",xl:"1440px",xxl:"1920px"}),oe=Object(re.a)({breakpoints:ae}),se=function(){return Object(m.jsx)(i.a,{theme:oe,children:Object(m.jsx)(g,{children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(X,{})}),Object(m.jsx)(l.a,{path:"/note/:id",children:Object(m.jsx)(ne,{})})]})})})})};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(se,{})}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.278e86c1.chunk.js.map